var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};(t=>{("object"!==("undefined"==typeof exports?"undefined":_typeof(exports))||"undefined"==typeof module)&&"function"==typeof define&&define.amd?define(t):t()})(function(){function t(e){var n=this.constructor;return this.then(function(t){return n.resolve(e()).then(function(){return t})},function(t){return n.resolve(e()).then(function(){return n.reject(t)})})}function i(){}function s(t){if(!(this instanceof s))throw new TypeError("Promises must be constructed via new");if("function"!=typeof t)throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],u(t,this)}function o(n,i){for(;3===n._state;)n=n._value;if(0===n._state)return n._deferreds.push(i);n._handled=!0,s._immediateFn(function(){var t,e=1===n._state?i.onFulfilled:i.onRejected;if(null===e)(1===n._state?r:a)(i.promise,n._value);else{try{t=e(n._value)}catch(t){return void a(i.promise,t)}r(i.promise,t)}})}function r(t,e){try{if(e===t)throw new TypeError("A promise cannot be resolved with itself.");if(e&&("object"===(void 0===e?"undefined":_typeof(e))||"function"==typeof e)){var n=e.then;if(e instanceof s)return t._state=3,t._value=e,void l(t);if("function"==typeof n)return void u((i=n,o=e,function(){i.apply(o,arguments)}),t)}t._state=1,t._value=e,l(t)}catch(e){a(t,e)}var i,o}function a(t,e){t._state=2,t._value=e,l(t)}function l(t){2===t._state&&0===t._deferreds.length&&s._immediateFn(function(){t._handled||s._unhandledRejectionFn(t._value)});for(var e=0,n=t._deferreds.length;e<n;e++)o(t,t._deferreds[e]);t._deferreds=null}function p(t,e,n){this.onFulfilled="function"==typeof t?t:null,this.onRejected="function"==typeof e?e:null,this.promise=n}function u(t,e){var n=!1;try{t(function(t){n||(n=!0,r(e,t))},function(t){n||(n=!0,a(e,t))})}catch(t){n||(n=!0,a(e,t))}}var e=setTimeout,n=(s.prototype.catch=function(t){return this.then(null,t)},s.prototype.then=function(t,e){var n=new this.constructor(i);return o(this,new p(t,e,n)),n},s.prototype.finally=t,s.all=function(e){return new s(function(o,s){if(!e||void 0===e.length)throw new TypeError("Promise.all accepts an array");var r=Array.prototype.slice.call(e);if(0===r.length)return o([]);for(var a=r.length,t=0;t<r.length;t++)!function e(n,t){try{if(t&&("object"===(void 0===t?"undefined":_typeof(t))||"function"==typeof t)){var i=t.then;if("function"==typeof i)return i.call(t,function(t){e(n,t)},s)}r[n]=t,0==--a&&o(r)}catch(n){s(n)}}(t,r[t])})},s.resolve=function(e){return e&&"object"===(void 0===e?"undefined":_typeof(e))&&e.constructor===s?e:new s(function(t){t(e)})},s.reject=function(n){return new s(function(t,e){e(n)})},s.race=function(o){return new s(function(t,e){for(var n=0,i=o.length;n<i;n++)o[n].then(t,e)})},s._immediateFn="function"==typeof setImmediate?function(t){setImmediate(t)}:function(t){e(t,0)},s._unhandledRejectionFn=function(t){"undefined"!=typeof console&&console&&console.warn("Possible Unhandled Promise Rejection:",t)},(()=>{if("undefined"!=typeof self)return self;if("undefined"!=typeof window)return window;if("undefined"!=typeof global)return global;throw new Error("unable to locate global object")})());"Promise"in n?n.Promise.prototype.finally||(n.Promise.prototype.finally=t):n.Promise=s}),((t,e)=>{"function"==typeof define&&define.amd?define([],e):"object"===("undefined"==typeof exports?"undefined":_typeof(exports))?module.exports=e():t.photoswipeSimplify=e()})(this,function(){function t(){}var n={target:"[data-pswp]"};return t.prototype={initialized:!1,pswpElement:"",galleries:[],thumbnails:[],tmps:[],items:[],options:{},ImagesLoaded:!1,init:function(t){var e=this;e.options=function(){for(var t={},e=0,n=arguments.length,e=0;e<n;e++){i=o=void 0;var i,o=arguments[e];for(i in o)o.hasOwnProperty(i)&&(t[i]=o[i])}return t}(n,t||{}),e.initialized||(e.append_template(),e.initialized=!0),e.initPhotoSwipe(e.options.target)},append_template:function(){var t=document.getElementsByTagName("body")[0],e=document.createElement("div");e.innerHTML='<div class="pswp" tabindex="-1" role="dialog" aria-hidden="true"><div class="pswp__bg"></div><div class="pswp__scroll-wrap"><div class="pswp__container"><div class="pswp__item"></div><div class="pswp__item"></div><div class="pswp__item"></div></div><div class="pswp__ui pswp__ui--hidden"><div class="pswp__top-bar"><div class="pswp__counter"></div><button class="pswp__button pswp__button--close" title="Close (Esc)"></button><button class="pswp__button pswp__button--share" title="Share"></button><button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button><button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button><div class="pswp__preloader"><div class="pswp__preloader__icn"><div class="pswp__preloader__cut"><div class="pswp__preloader__donut"></div></div></div></div></div><div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap"><div class="pswp__share-tooltip"></div> </div><button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)"></button><button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)"></button><div class="pswp__caption"><div class="pswp__caption__center"></div></div></div></div></div>',t.appendChild(e)},initPhotoSwipe:function(t){var e=this;if(e.pswpElement=document.querySelectorAll(".pswp")[0],e.galleries=document.querySelectorAll(t),0<e.galleries.length)for(var n=0;n<e.galleries.length;n++){if(e.items[n]=[],e.thumbnails[n]=[],e.tmps[n]=e.galleries[n].getElementsByTagName("a"),e.tmps[n]=Array.prototype.slice.call(e.tmps[n]),0<e.tmps[n].length)for(var i=0;i<e.tmps[n].length;i++){var o=e.tmps[n][i].getAttribute("href");/(.gif|.jpe?g|.png|.bmp)/.test(o.toLowerCase())&&e.thumbnails[n].push(e.tmps[n][i])}if(new Promise(function(t){e.parseItems(t,n)}).then(function(){e.galleryLoaded()}),0<e.thumbnails[n].length)for(var s=0;s<e.thumbnails[n].length;s++)e.thumbnails[n][s].setAttribute("data-pswp-index",n),e.thumbnails[n][s].classList.add("pswp--item"),e.attachEvent(e.thumbnails[n][s],n,s)}},galleryLoaded:function(){if(0<this.galleries.length)for(var t=0;t<this.galleries.length;t++)this.galleries[t].classList.add("pswp--loaded")},attachEvent:function(t,e,n){var i=this;t.addEventListener("click",function(t){t.preventDefault(),document.body.classList.add("pswp--launched");t=document.querySelector(".pswp--active");return t&&t.classList.remove("pswp--active"),i.galleries[e].classList.add("pswp--active"),i.galleries[e].setAttribute("data-pswp-index",n),i.galleries[e].classList.contains("pswp--loaded")&&0<=n&&i.open(e,n),!1})},getImageSizes:function(i,o,s,r,a){var l=this;new Promise(function(t,e){var n=new Image;n.src=i,n.onload=function(){l.items[o][s]={src:i,w:n.naturalWidth,h:n.naturalHeight,title:r,author:a},t()}})},open:function(t,e){var n=this;n.galleries[t],n.options.galleryUID=t,n.options.index=e,n.options.getThumbBoundsFn=function(t){var e=document.querySelector(".pswp--active");if(e)return e=e.querySelectorAll(".pswp--item")[t].getElementsByTagName("img")[0],t=window.pageYOffset||document.documentElement.scrollTop,{x:(e=e.getBoundingClientRect()).left,y:e.top+t,w:e.width}},n.options.addCaptionHTMLFn=function(t,e,n){return t.title?(e.children[0].innerHTML=t.title,t.author&&(e.children[0].innerHTML+="<br><small>"+t.author+"</small>"),!0):(e.children[0].innerText="",!1)},document.body.classList.remove("pswp--launched"),new PhotoSwipe(n.pswpElement,PhotoSwipeUI_Default,n.items[t],n.options).init()},parseItems:function(t,e){var n=this,i=[];if(0<n.thumbnails[e].length)for(var o=0;o<n.thumbnails[e].length;o++){var s=n.thumbnails[e][o].getAttribute("href"),r=n.thumbnails[e][o].getAttribute("data-caption"),a=n.thumbnails[e][o].getAttribute("data-author");i.push(n.getImageSizes(s,e,o,r,a)),Promise.all(i).then(function(){t()})}}},new t});